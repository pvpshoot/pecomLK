!function(e,t,$,i){"use strict";var n=$(e),o=$(t),a=$("html"),r=$.fancybox=function(){r.open.apply(this,arguments)},s=r.isTouch=t.createTouch!==i||e.ontouchstart!==i,l=function(e){return e&&e.hasOwnProperty&&e instanceof $},c=function(e){return e&&"string"===$.type(e)},d=function(e){return c(e)&&e.indexOf("%")>0},p=function(e,t){var i=parseFloat(e,10)||0;return t&&d(e)&&(i=r.getViewport()[t]/100*i),Math.ceil(i)},h=function(e,t){return p(e,t)+"px"},f=Date.now||function(){return+new Date},u=function(e){var t=c(e)?$(e):e;if(t&&t.length){t.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{t.find("iframe").unbind().attr("src",s?"":"//about:blank"),setTimeout(function(){if(t.empty().remove(),r.lock&&!r.coming&&!r.current){var e,i;$(".fancybox-margin").removeClass("fancybox-margin"),e=n.scrollTop(),i=n.scrollLeft(),a.removeClass("fancybox-lock"),r.lock.remove(),r.lock=null,n.scrollTop(e).scrollLeft(i)}},150)}catch(i){}}};$.extend(r,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!s,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!s,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeClose:$.noop,afterClose:$.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close material" href="javascript:;">x</a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorwärts",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(e,t){e&&!1!==r.close(!0)&&($.isPlainObject(t)||(t={}),r.opts=$.extend(!0,{},r.defaults,t),r.populate(e),r.group.length&&r._start(r.opts.index))},populate:function(e){var t=[];$.isArray(e)||(e=[e]),$.each(e,function(n,o){var a=$.extend(!0,{},r.opts),d,p,h,f,u;if($.isPlainObject(o))d=o;else if(c(o))d={href:o};else{if(!(l(o)||"object"===$.type(o)&&o.nodeType))return;p=$(o),d=$(p).get(0),d.href||(d={href:o}),d=$.extend({href:p.data("fancybox-href")||p.attr("href")||d.href,title:p.data("fancybox-title")||p.attr("title")||d.title,type:p.data("fancybox-type"),element:p},p.data("fancybox-options"))}d.type||!d.content&&!d.href||(d.type=d.content?"html":r.guessType(p,d.href)),h=d.type||r.opts.type,("image"===h||"swf"===h)&&(a.autoWidth=a.autoHeight=!1,a.scrolling="visible"),"image"===h&&(a.aspectRatio=!0),"iframe"===h&&(a.autoWidth=!1,a.scrolling=s?"scroll":"visible"),e.length<2&&(a.margin=30),d=$.extend(!0,{},a,d),f=d.margin,u=d.padding,"number"===$.type(f)&&(d.margin=[f,f,f,f]),"number"===$.type(u)&&(d.padding=[u,u,u,u]),d.modal&&$.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),d.autoSize!==i&&(d.autoWidth=d.autoHeight=!!d.autoSize),"auto"===d.width&&(d.autoWidth=!0),"auto"===d.height&&(d.autoHeight=!0),t.push(d)}),r.group=r.group.concat(t)},cancel:function(){var e=r.coming;e&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),e.wrap&&u(e.wrap),r.ajaxLoad=r.imgPreload=r.coming=null,r.current||r._afterZoomOut(e))},close:function(e){e&&"object"===$.type(e)&&e.preventDefault(),r.cancel(),r.isActive&&!r.coming&&!1!==r.trigger("beforeClose")&&(r.unbind(),r.isClosing=!0,r.lock&&r.lock.css("overflow","hidden"),r.isOpen&&e!==!0?(r.isOpen=r.isOpened=!1,r.transitions.close()):r._afterZoomOut())},prev:function(e){var t=r.current;t&&r.jumpto(t.index-1,c(e)?e:t.direction.prev)},next:function(e){var t=r.current;t&&r.jumpto(t.index+1,c(e)?e:t.direction.next)},jumpto:function(e,t){var i=r.current;r.coming&&r.coming.index===e||(r.cancel(),i.index==e?t=null:t||(t=i.direction[e>i.index?"next":"prev"]),r.direction=t,r._start(e))}}),$.extend(r,{guessType:function(e,t){var i=e&&e.prop("class")?e.prop("class").match(/fancybox\.(\w+)/):0,n=!1;return i?i[1]:(c(t)?t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?n="image":t.match(/\.(swf)((\?|#).*)?$/i)?n="swf":"#"===t.charAt(0)&&(n="inline"):c(e)&&(n="html"),n)},trigger:function(e,t){var i,n=t||r.coming||r.current;if(n){if($.isFunction(n[e])&&(i=n[e].apply(n,Array.prototype.slice.call(arguments,1))),i===!1||"afterClose"===e&&r.isActive)return!1;n.helpers&&$.each(n.helpers,function(t,i){var o=r.helpers[t],a;i&&o&&$.isFunction(o[e])&&(a=$.extend(!0,{},o.defaults,i),o.opts=a,o[e](a,n))}),$.event.trigger(e)}},reposition:function(e,t){var i=t||r.current,n=i&&i.wrap,o;r.isOpen&&n&&(o=r._getPosition(i),e===!1||e&&"scroll"===e.type?n.stop(!0).animate(o,200).css("overflow","visible"):n.css(o))},update:function(e){var t=e&&e.type,i=f(),n=r.current,o;if(n&&r.isOpen){if("scroll"===t){if(r.wrap.outerHeight(!0)>r.getViewport().h)return;return r.didUpdate&&clearTimeout(r.didUpdate),void(r.didUpdate=setTimeout(function(){r.reposition(e),r.didUpdate=null},50))}r.lock&&r.lock.css("overflow","hidden"),r._setDimension(),r.reposition(e),r.lock&&r.lock.css("overflow","auto"),"float"===n.caption.type&&(o=r.getViewport().w-(r.wrap.outerWidth(!0)-r.inner.width()),n.caption.wrap.css("width",o).css("marginLeft",-1*(.5*o-.5*r.inner.width()))),n.expander&&(n.canShrink?$(".fancybox-expand").show().attr("title",n.locales[n.locale].SHRINK):n.canExpand?$(".fancybox-expand").show().attr("title",n.locales[n.locale].EXPAND):$(".fancybox-expand").hide()),r.trigger("onUpdate")}},toggle:function(e){var t=r.current;t&&r.isOpen&&(r.current.fitToView="boolean"===$.type(e)?e:!r.current.fitToView,r.update(!0))},hideLoading:function(){$("#fancybox-loading").remove()},showLoading:function(){var e,t;r.hideLoading(),e=$('<div id="fancybox-loading"></div>').click(r.cancel).appendTo("body"),r.defaults.fixed||(t=r.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t;return t=r.lock?{x:r.lock.scrollLeft(),y:r.lock.scrollTop(),w:r.lock[0].clientWidth,h:r.lock[0].clientHeight}:{x:n.scrollLeft(),y:n.scrollTop(),w:s&&e.innerWidth?e.innerWidth:n.width(),h:s&&e.innerHeight?e.innerHeight:n.height()}},unbind:function(){l(r.wrap)&&r.wrap.unbind(".fb"),l(r.inner)&&r.inner.unbind(".fb"),o.unbind(".fb"),n.unbind(".fb")},rebind:function(){var e=r.current,t;r.unbind(),e&&r.isOpen&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),r.update),t=e.keys,t&&o.bind("keydown.fb",function(n){var o=n.which||n.keyCode,a=n.target||n.srcElement;return 27===o&&r.coming?!1:void(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||a&&(a.type||$(a).is("[contenteditable]"))||$.each(t,function(t,a){return a[o]!==i?(n.preventDefault(),e.group.length>1&&r[t](a[o]),!1):$.inArray(o,a)>-1?(n.preventDefault(),"play"===t?r.slideshow.toggle():r[t](),!1):void 0}))}),r.lastScroll=f(),e.mouseWheel&&r.group.length>1&&r.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(e){var t=e.originalEvent,i=t.target||0,n=t.wheelDelta||t.detail||0,o=t.wheelDeltaX||0,a=t.wheelDeltaY||0,s=f();if((!i||!i.style||i.style.overflow&&"hidden"===i.style.overflow||!(i.clientWidth&&i.scrollWidth>i.clientWidth||i.clientHeight&&i.scrollHeight>i.clientHeight))&&!(0===n||r.current&&r.current.canShrink)){if(t.stopPropagation(),r.lastScroll&&s-r.lastScroll<80)return void(r.lastScroll=s);r.lastScroll=s,t.axis&&(t.axis===t.HORIZONTAL_AXIS?o=-1*n:t.axis===t.VERTICAL_AXIS&&(a=-1*n)),0===o?a>0?r.prev("down"):r.next("up"):o>0?r.prev("right"):r.next("left")}}),r.touch.init())},rebuild:function(){var e=r.current;e.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),e.arrows&&r.group.length>1&&((e.loop||e.index>0)&&$(r._translate(e.tpl.prev)).appendTo(r.inner).bind("click.fb",r.prev),(e.loop||e.index<r.group.length-1)&&$(r._translate(e.tpl.next)).appendTo(r.inner).bind("click.fb",r.next)),e.closeBtn&&$(r._translate(e.tpl.closeBtn)).appendTo(r.wrap).bind("click.fb",r.close),e.expander&&"image"===e.type&&($('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(r.inner).bind("click.fb",r.toggle),!e.canShrink&&!e.canExpand)},_start:function(e){var t,i;return r.opts.loop&&(0>e&&(e=r.group.length+e%r.group.length),e%=r.group.length),(t=r.group[e])?(t=$.extend(!0,{},r.opts,t),t.group=r.group,t.index=e,r.coming=t,!1===r.trigger("beforeLoad")?void(r.coming=null):(r.isActive=!0,r._build(),o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(o.unbind(".loading"),e.preventDefault(),r.cancel())}),t.overlay&&t.overlay.showEarly&&r.overlay.open(t.overlay),i=t.type,void("image"===i?r._loadImage():"ajax"===i?r._loadAjax():"iframe"===i?r._loadIframe():"inline"===i?r._loadInline():"html"===i||"swf"===i?r._afterLoad():r._error()))):!1},_build:function(){var e=r.coming,t=e.caption.type,i,s,l,c;e.wrap=i=$('<div class="fancybox-wrap"></div>').appendTo(e.parent||"body").addClass("fancybox-"+e.theme),e.inner=s=$('<div class="fancybox-inner"></div>').appendTo(i),e["outside"===t||"float"===t?"inner":"wrap"].addClass("fancybox-skin fancybox-"+e.theme+"-skin"),e.locked&&e.overlay&&r.defaults.fixed&&(r.lock||(r.lock=$('<div id="fancybox-lock"></div>').appendTo(i.parent())),r.lock.unbind().append(i),e.overlay.closeClick&&r.lock.click(function(e){$(e.target).is(r.lock)&&r.close()}),(o.height()>n.height()||"scroll"===a.css("overflow-y"))&&($("*:visible").filter(function(){return"fixed"===$(this).css("position")&&!$(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==$(this).attr("id")}).addClass("fancybox-margin"),a.addClass("fancybox-margin")),l=n.scrollTop(),c=n.scrollLeft(),a.addClass("fancybox-lock"),n.scrollTop(l).scrollLeft(c)),r.trigger("onReady")},_error:function(e){r.coming&&($.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:e,content:r._translate(r.coming.tpl.error)}),r._afterLoad())},_loadImage:function(){var e=r.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,$.extend(r.coming,{width:this.width,height:this.height,content:$(this).addClass("fancybox-image")}),r._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,r._error("image")},e.src=r.coming.href,(e.complete!==!0||e.width<1)&&r.showLoading()},_loadAjax:function(){var e=r.coming,t=e.href,i,n;i=t.split(/\s+/,2),t=i.shift(),n=i.shift(),r.showLoading(),r.ajaxLoad=$.ajax($.extend({},e.ajax,{url:e.href,error:function(e,t){r.coming&&"abort"!==t?r._error("ajax",e):r.hideLoading()},success:function(t,i){"success"===i&&(n&&(t=$("<div>").html(t).find(n)),e.content=t,r._afterLoad())}}))},_loadIframe:function(){var e=r.coming,t;e.content=t=$(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":e.iframe.scrolling),e.iframe.preload&&(r.showLoading(),r._setDimension(e),e.wrap.addClass("fancybox-tmp"),t.one("load.fb",function(){e.iframe.preload&&($(this).data("ready",1),$(this).bind("load.fb",r.update),r._afterLoad())})),t.attr("src",e.href).appendTo(e.inner),e.iframe.preload?1!==t.data("ready")&&r.showLoading():r._afterLoad()},_loadInline:function(){var e=r.coming,t=e.href;e.content=$(c(t)?t.replace(/.*(?=#[^\s]+$)/,""):t),e.content.length?r._afterLoad():r._error()},_preloadImages:function(){var e=r.group,t=r.current,i=e.length,n=t.preload?Math.min(t.preload,i-1):0,o,a;for(a=1;n>=a;a+=1)o=e[(t.index+a)%i],o&&"image"===o.type&&o.href&&((new Image).src=o.href)},_afterLoad:function(){var e=r.coming,t=r.current;return o.unbind(".loading"),e&&r.isActive!==!1&&!1!==r.trigger("afterLoad",e,t)?($.extend(r,{wrap:e.wrap.addClass("fancybox-type-"+e.type+" fancybox-"+(s?"mobile":"desktop")+" fancybox-"+e.theme+"-"+(s?"mobile":"desktop")+" "+e.wrapCSS),inner:e.inner,current:e,previous:t}),r._prepare(),r.trigger("beforeShow",e,t),r.isOpen=!1,r.coming=null,r._setDimension(),r.hideLoading(),e.overlay&&!r.overlay.el&&r.overlay.open(e.overlay),void r.transitions.open()):(r.hideLoading(),e&&e.wrap&&u(e.wrap),t||r._afterZoomOut(e),void(r.coming=null))},_prepare:function(){var e=r.current,t=e.content||"",i=e.wrap,n=e.inner,o=e.margin,a=e.padding,s=e.href,d=e.type,p=e.scrolling,f=e.caption,u=e.title,g=f.type,m="fancybox-placeholder",y="fancybox-display",v;"iframe"!==d&&l(t)&&t.length&&(t.data(m)||t.data(y,t.css("display")).data(m,$('<div class="'+m+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){$(this).find(t).length&&t.css("display",t.data(y)).replaceAll(t.data(m)).data(m,!1).data(y,!1)})),"swf"===d&&(t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',v="",$.each(e.swf,function(e,i){t+='<param name="'+e+'" value="'+i+'"></param>',v+=" "+e+'="'+i+'"'}),t+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+v+"></embed></object>"),l(t)&&t.parent().is(e.inner)||(e.inner.append(t),e.content=e.inner.children(":last")),$.each(["Top","Right","Bottom","Left"],function(e,t){o[e]&&i.css("margin"+t,h(o[e])),a[e]&&(("Bottom"!==t||"outside"!==g)&&i.css("padding"+t,h(a[e])),("outside"===g||"float"===g)&&(n.css("border"+t+"Width",h(a[e])),("Top"===t||"Left"===t)&&n.css("margin"+t,h(-1*a[e]))))}),$.isFunction(u)&&(u=u.call(e.element,e)),c(u)&&""!==$.trim(u)&&(e.caption.wrap=$('<div class="fancybox-title fancybox-title-'+g+'-wrap">'+u+"</div>").appendTo(e["over"===g?"inner":"wrap"]),"float"===g&&e.caption.wrap.width(r.getViewport().w-(r.wrap.outerWidth(!0)-r.inner.width())).wrapInner("<div></div>"))},_setDimension:function(e){var t=r.getViewport(),i=e||r.current,n=i.wrap,o=i.inner,a=i.width,s=i.height,c=i.minWidth,f=i.minHeight,u=i.maxWidth,g=i.maxHeight,m=i.margin,y=i.scrollOutside?i.scrollbarWidth:0,m=i.margin,v=i.padding,w=i.scrolling,x=1,b,_,k,T,C,O,L,W,E,S,H,M,A,R,P;if(w=w.split(","),b=w[0],_=w[1]||b,i.inner.css("overflow-x","yes"===b?"scroll":"no"===b?"hidden":b).css("overflow-y","yes"===_?"scroll":"no"===_?"hidden":_),T=m[1]+m[3]+v[1]+v[3],k=m[0]+m[2]+v[0]+v[2],c=p(d(c)?p(c,"w")-T:c),u=p(d(u)?p(u,"w")-T:u),f=p(d(f)?p(f,"h")-k:f),g=p(d(g)?p(g,"h")-k:g),C=p(d(a)?p(a,"w")-T:a),O=p(d(s)?p(s,"h")-k:s),i.fitToView&&(u=Math.min(u,p("100%","w")-T),g=Math.min(g,p("100%","h")-k)),S=t.w,H=t.h,"iframe"===i.type){if(W=i.content,n.removeClass("fancybox-tmp"),(i.autoWidth||i.autoHeight)&&W&&1===W.data("ready"))try{W[0].contentWindow&&W[0].contentWindow.document.location&&(E=W.contents().find("body"),o.addClass("fancybox-tmp"),o.width(screen.width-T).height(99999),y&&E.css("overflow-x","hidden"),i.autoWidth&&(C=E.outerWidth(!0)),i.autoHeight&&(O=E.outerHeight(!0)),o.removeClass("fancybox-tmp"))}catch(j){}}else(i.autoWidth||i.autoHeight)&&"image"!==i.type&&"swf"!==i.type&&(o.addClass("fancybox-tmp"),o.width(i.autoWidth?"auto":u),o.height(i.autoHeight?"auto":g),i.autoWidth&&(C=o[0].scrollWidth||o.width()),i.autoHeight&&(O=o[0].scrollHeight||o.height()),o.removeClass("fancybox-tmp"));if(a=C,s=O,L=C/O,!i.autoResize)return n.css({width:h(a),height:"auto"}),void o.css({width:h(a),height:h(s)});if(i.aspectRatio?(a>u&&(a=u,s=a/L),s>g&&(s=g,a=s*L),c>a&&(a=c,s=a/L),f>s&&(s=f,a=s*L)):(a=Math.max(c,Math.min(a,u)),i.autoHeight&&"iframe"!==i.type&&(o.width(a),O=s=o[0].scrollHeight),s=Math.max(f,Math.min(s,g))),n.css({width:h(a),height:"auto"}),o.css({width:h(a),height:h(s)}),M=p(n.outerWidth(!0)),A=p(n.outerHeight(!0)),i.fitToView)if(i.aspectRatio)for(;(M>S||A>H)&&a>c&&s>f&&!(x++>30);)s=Math.max(f,Math.min(g,s-10)),a=p(s*L),c>a&&(a=c,s=p(a/L)),a>u&&(a=u,s=p(a/L)),n.css({width:h(a)}),o.css({width:h(a),height:h(s)}),M=p(n.outerWidth(!0)),A=p(n.outerHeight(!0));else a=Math.max(c,Math.min(a,a-(M-S))),s=Math.max(f,Math.min(s,s-(A-H)));y&&"auto"===b&&(s<o[0].scrollHeight||l(i.content)&&i.content[0]&&s<i.content[0].offsetHeight)&&u>a+T+y&&(a+=y),n.css({width:a}),o.css({width:h(a),height:h(s)}),M=p(n.outerWidth(!0)),A=p(n.outerHeight(!0)),R=(M>S||A>H)&&a>c&&s>f,P=(S>M||H>A)&&(i.aspectRatio?u>a&&g>s&&C>a&&O>s:(u>a||g>s)&&(C>a||O>s)),i.canShrink=R,i.canExpand=P,!W&&i.autoHeight&&s>f&&g>s&&!P&&o.height("auto")},_getPosition:function(e){var t=e||r.current,i=t.wrap,n=r.getViewport(),o={},a=n.y,s=n.x;return o={top:h(Math.max(a,a+(n.h-i.outerHeight(!0))*t.topRatio)),left:h(Math.max(s,s+(n.w-i.outerWidth(!0))*t.leftRatio)),width:h(i.width()),height:h(i.height())}},_afterZoomIn:function(){var e=r.current;e&&(r.lock&&r.lock.css("overflow","auto"),r.isOpen=r.isOpened=!0,r.rebuild(),r.rebind(),e.caption&&e.caption.wrap&&e.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),r.update(),r.wrap.css("overflow","visible").addClass("fancybox-open").focus(),r[r.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+e.theme+"-skin-open"),e.caption&&e.caption.wrap&&e.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),e.margin[2]>0&&$('<div class="fancybox-spacer"></div>').css("height",h(e.margin[2]-2)).appendTo(r.wrap),r.trigger("afterShow"),r._preloadImages(),e.autoPlay&&!r.slideshow.isActive&&r.slideshow.start())},_afterZoomOut:function(e){var t=function(){u(".fancybox-wrap")};r.hideLoading(),e=e||r.current,e&&e.wrap&&e.wrap.hide(),$.extend(r,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),r.trigger("afterClose",e),r.coming||r.current||(e.overlay?r.overlay.close(e.overlay,t):t())},_translate:function(e){var t=r.coming||r.current,n=t.locales[t.locale];return e.replace(/\{\{(\w+)\}\}/g,function(e,t){var o=n[t];return o===i?e:o})}}),r.transitions={_getOrig:function(e){var t=e||r.current,i=t.wrap,o=t.element,a=t.orig,s=r.getViewport(),c={},d=50,p=50;return!a&&o&&o.is(":visible")&&(a=o.find("img:first:visible"),a.length||(a=o)),!a&&t.group[0].element&&(a=t.group[0].element.find("img:visible:first")),l(a)&&a.is(":visible")?(c=a.offset(),a.is("img")&&(d=a.outerWidth(),p=a.outerHeight()),r.lock&&(c.top-=n.scrollTop(),c.left-=n.scrollLeft())):(c.top=s.y+(s.h-p)*t.topRatio,c.left=s.x+(s.w-d)*t.leftRatio),c={top:h(c.top-.5*(i.outerHeight(!0)-i.height())),left:h(c.left-.5*(i.outerWidth(!0)-i.width())),width:h(d),height:h(p)}},_getCenter:function(e){var t=e||r.current,i=t.wrap,n=r.getViewport(),o={},a=n.y,s=n.x;return o={top:h(Math.max(a,a+(n.h-i.outerHeight(!0))*t.topRatio)),left:h(Math.max(s,s+(n.w-i.outerWidth(!0))*t.leftRatio)),width:h(i.width()),height:h(i.height())}},_prepare:function(e,t){var i=e||r.current,n=i.wrap,o=i.inner;n.height(n.height()),o.css({width:100*o.width()/n.width()+"%",height:Math.floor(100*o.height()/n.height()*100)/100+"%"}),t===!0&&n.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),o.css("overflow","hidden")},fade:function(e,t){var i=this._getCenter(e),n={opacity:0};return"open"===t||"changeIn"===t?[$.extend(i,n),{opacity:1}]:[{},n]},drop:function(e,t){var i=$.extend(this._getCenter(e),{opacity:1}),n=$.extend({},i,{opacity:0,top:h(Math.max(r.getViewport().y-e.margin[0],p(i.top)-200))});return"open"===t||"changeIn"===t?[n,i]:[{},n]},elastic:function(e,t){var i=e.wrap,n=e.margin,o=r.getViewport(),a=r.direction,s=this._getCenter(e),l=$.extend({},s),c=$.extend({},s),d,h,f;return"open"===t?l=this._getOrig(e):"close"===t?(l={},c=this._getOrig(e)):a&&(d="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a?200:-200,"changeIn"===t?(f=p(l[d])+h,f="left"===a?Math.min(f,o.x+o.w-n[3]-i.outerWidth()-1):"right"===a?Math.max(f,o.x-n[1]):"up"===a?Math.min(f,o.y+o.h-n[0]-i.outerHeight()-1):Math.max(f,o.y-n[2]),l[d]=f):(f=p(i.css(d))-h,l={},f="left"===a?Math.max(f,o.x-n[3]):"right"===a?Math.min(f,o.x+o.w-n[1]-i.outerWidth()-1):"up"===a?Math.max(f,o.y-n[0]):Math.min(f,o.y+o.h-n[2]-i.outerHeight()-1),c[d]=f)),"open"===t||"changeIn"===t?(l.opacity=0,c.opacity=1):c.opacity=0,[l,c]},open:function(){var e=r.current,t=r.previous,i=r.direction,n,o,a,s,l;t&&t.wrap.stop(!0).removeClass("fancybox-opened"),r.isOpened?(n=e.nextEffect,a=e.nextSpeed,s=e.nextEasing,l="changeIn"):(n=e.openEffect,a=e.openSpeed,s=e.openEasing,l="open"),"none"===n?r._afterZoomIn():(o=this[n](e,l),"elastic"===n&&this._prepare(e),e.wrap.css(o[0]),e.wrap.animate(o[1],a,s,r._afterZoomIn)),t&&(r.isOpened&&"none"!==t.prevEffect?(t.wrap.stop(!0).removeClass("fancybox-opened"),o=this[t.prevEffect](t,"changeOut"),this._prepare(t,!0),t.wrap.animate(o[1],t.prevSpeed,t.prevEasing,function(){u(t.wrap)})):u($(".fancybox-wrap").not(e.wrap)))},close:function(){var e=r.current,t=e.wrap.stop(!0).removeClass("fancybox-opened"),i=e.closeEffect,n;return"none"===i?r._afterZoomOut():(this._prepare(e,!0),n=this[i](e,"close"),void t.addClass("fancybox-animating").animate(n[1],e.closeSpeed,e.closeEasing,r._afterZoomOut))}},r.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),r.current&&this.isActive&&(this._timer=setTimeout(r.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(e){var t=r.current;t&&(t.loop||t.index<t.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=e||t.playSpeed,o.bind({"beforeLoad.player":$.proxy(this._clear,this),"onUpdate.player":$.proxy(this._set,this),"onCancel.player beforeClose.player":$.proxy(this.stop,this)}),this._set(),r.trigger("onPlayStart"))},stop:function(){this._clear(),o.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,r.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},r.overlay={el:null,theme:"",open:function(e){var t=this,i=this.el,o=r.defaults.fixed,a,s;e=$.extend({},r.defaults.overlay,e),i?i.stop(!0).removeAttr("style").unbind(".overlay"):i=$('<div class="fancybox-overlay'+(o?" fancybox-overlay-fixed":"")+'"></div>').appendTo(e.parent||"body"),e.closeClick&&i.bind("click.overlay",function(e){return r.lastTouch&&f()-r.lastTouch<300?!1:(r.isActive?r.close():t.close(),!1)}),s=e.theme||(r.coming?r.coming.theme:"default"),s!==this.theme&&i.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=s,i.addClass("fancybox-"+s+"-overlay").css(e.css),a=i.css("opacity"),!this.el&&1>a&&e.speedIn&&i.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(e.speedIn,a),this.el=i,o||(n.bind("resize.overlay",$.proxy(this.update,this)),this.update())},close:function(e,t){e=$.extend({},r.defaults.overlay,e),this.el&&this.el.stop(!0).fadeOut(e.speedOut,function(){n.unbind("resize.overlay"),$(".fancybox-overlay").remove(),r.overlay.el=null,$.isFunction(t)&&t()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(o.width()).height(o.height())}},r.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(e){var t=r.current,i=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=f();if(r.isOpen&&!r.wrap.is(":animated")&&($(e.target).is(r.inner)||$(e.target).parent().is(r.inner))){if(r.lastTouch&&n-r.lastTouch<300)return e.preventDefault(),r.lastTouch=n,this._cancel(!0),r.toggle(),!1;r.lastTouch=n,r.wrap&&r.wrap.outerWidth()>r.getViewport().w||(e.preventDefault(),i&&r.wrap&&r.wrap.outerWidth()<r.getViewport().w&&(this.startX=i.pageX,this.wrapX=r.wrap.position().left,this.isMoving=!0,r.inner.bind("touchmove.fb",$.proxy(this._move,this)).one("touchend.fb touchcancel.fb",$.proxy(this._cancel,this))))}},_move:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=this.startX-t.pageX;this.isMoving&&r.isOpen&&(this.dx=i,r.current.wrap.outerWidth(!0)<=n.width()&&(Math.abs(i)>=50?(e.preventDefault(),this.last=0,this._cancel(!0),i>0?r.next("left"):r.prev("right")):Math.abs(i)>3&&(e.preventDefault(),this.last=0,r.wrap.css("left",this.wrapX-i))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(e){r.inner&&r.inner.unbind("touchmove.fb"),r.isOpen&&Math.abs(this.dx)>3&&r.reposition(!1),this._clear()},init:function(){var e=this;r.inner&&r.touch&&(this._cancel(!0),r.inner.bind("touchstart.fb",$.proxy(this._start,this)))}},$.easing.easeOutQuad||($.easing.easeOutQuad=function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}),o.ready(function(){var t,o,s,l;$.scrollbarWidth===i&&($.scrollbarWidth=function(){var e=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),i=t.innerWidth()-t.height(99).innerWidth();return e.remove(),i}),$.support.fixedPosition===i&&($.support.fixedPosition=function(){var e=$('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),t="fixed"===e.css("position")&&(e[0].offsetTop>18&&e[0].offsetTop<22||15===e[0].offsetTop);return e.remove(),t}()),$.extend(r.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")}),s=n.scrollTop(),l=n.scrollLeft(),t=$(e).width(),a.addClass("fancybox-lock-test"),o=$(e).width(),a.removeClass("fancybox-lock-test"),n.scrollTop(s).scrollLeft(l),r.lockMargin=o-t,$("<style type='text/css'>.fancybox-margin{margin-right:"+r.lockMargin+"px;}</style>").appendTo("head"),$("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&$("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),$.fn.fancybox=function(e){var t=this,i=this.length?this.selector:!1,n=i&&i.indexOf("()")<0&&!(e&&e.live===!1),a=function(o){var a=n?$(i):t,s=$(this).blur(),l=e.groupAttr||"data-fancybox-group",c=s.attr(l),d=this.rel;!c&&d&&"nofollow"!==d&&(l="rel",c=d),c&&(s=a.filter("["+l+'="'+c+'"]'),e.index=s.index(this)),s.length&&(o.preventDefault(),r.open(s.get(),e))};return e=e||{},n?o.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",a):t.unbind("click.fb-start").bind("click.fb-start",a),this}}(window,document,jQuery);